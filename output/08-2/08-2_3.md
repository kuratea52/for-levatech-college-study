# ブログ投稿一覧の表示条件変更

## データの取得件数制限

### DBとのデータのやりとりを行うModelクラス（Post.php）に下記を追加
※ 「blog/app/Models」配下にある。
※ Postクラス内に挿入する。

    public function getByLimit(int $limit_count = 10)
    {
        // updated_atで降順に並べたあと、limitで件数制限をかける
        return $this->orderBy('updated_at', 'DESC')->limit($limit_count)->get();
    }

### 「blog/app/Providers」配下にあるAppServiceProvider.phpを下記のように修正

    <?php
    namespace App\Providers;

    use Illuminate\Support\ServiceProvider;
    use Illuminate\Pagination\Paginator;

    class AppServiceProvider extends ServiceProvider
    {
        public function boot(){
        Paginator::useBootstrap();  //動画


        // Paginator::useBootstrapFive();    公式ドキュメント
        //または Paginator::useBootstrapFour();    公式ドキュメント
        }
    }

### モデルクラスを使用しているコントローラークラス（PostController.php）を修正
※ getをgetByLimitに変更する。

    public function index(Post $post)
    {
        return view('posts.index')->with(['posts' => $post->getByLimit()]);
    }